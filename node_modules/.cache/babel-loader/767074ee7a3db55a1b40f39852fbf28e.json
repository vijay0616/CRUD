{"ast":null,"code":"import { createRootReducer, rootSaga } from \"./stores\";\nimport { applyMiddleware, compose, createStore } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport createSagaMiddleware from \"redux-saga\";\nimport persistState from \"redux-localstorage\";\nexport default function configureStore(history, initialState) {\n  const composeEnhancers = composeWithDevTools({});\n  const sagaMiddleware = createSagaMiddleware();\n  const enhancer = compose(persistState());\n  getStateFromLocalStorage();\n  const store = createStore(createRootReducer(history), initialState, composeEnhancers(applyMiddleware(sagaMiddleware), enhancer));\n  store.subscribe(() => {\n    const _store = store.getState();\n\n    localStorage.setItem(\"_store\", JSON.stringify(_store));\n  });\n  sagaMiddleware.run(rootSaga);\n  return store;\n\n  function getStateFromLocalStorage() {\n    const _store = localStorage.getItem(\"_store\");\n\n    if (!_store) return initialState;\n    return JSON.parse(_store);\n  }\n}","map":{"version":3,"names":["createRootReducer","rootSaga","applyMiddleware","compose","createStore","composeWithDevTools","createSagaMiddleware","persistState","configureStore","history","initialState","composeEnhancers","sagaMiddleware","enhancer","getStateFromLocalStorage","store","subscribe","_store","getState","localStorage","setItem","JSON","stringify","run","getItem","parse"],"sources":["/home/ansio-user/vijaypro/web/src/configureStore.ts"],"sourcesContent":["import { ApplicationState, createRootReducer, rootSaga } from \"./stores\";\r\nimport { Store, applyMiddleware, compose, createStore } from \"redux\";\r\n\r\nimport { History } from \"history\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport persistState from \"redux-localstorage\";\r\n\r\nexport default function configureStore(\r\n  history: History,\r\n  initialState: ApplicationState\r\n): Store<ApplicationState> {\r\n  const composeEnhancers = composeWithDevTools({});\r\n\r\n  const sagaMiddleware = createSagaMiddleware();\r\n  const enhancer = compose(persistState());\r\n\r\n  getStateFromLocalStorage();\r\n\r\n  const store = createStore(\r\n    createRootReducer(history),\r\n    initialState,\r\n    composeEnhancers(applyMiddleware(sagaMiddleware), enhancer)\r\n  );\r\n\r\n  store.subscribe(() => {\r\n    const _store = store.getState();\r\n    localStorage.setItem(\"_store\", JSON.stringify(_store));\r\n  });\r\n\r\n  sagaMiddleware.run(rootSaga);\r\n  return store;\r\n\r\n  function getStateFromLocalStorage() {\r\n    const _store = localStorage.getItem(\"_store\");\r\n\r\n    if (!_store) return initialState;\r\n    return JSON.parse(_store);\r\n  }\r\n}\r\n"],"mappings":"AAAA,SAA2BA,iBAA3B,EAA8CC,QAA9C,QAA8D,UAA9D;AACA,SAAgBC,eAAhB,EAAiCC,OAAjC,EAA0CC,WAA1C,QAA6D,OAA7D;AAGA,SAASC,mBAAT,QAAoC,0BAApC;AACA,OAAOC,oBAAP,MAAiC,YAAjC;AACA,OAAOC,YAAP,MAAyB,oBAAzB;AAEA,eAAe,SAASC,cAAT,CACbC,OADa,EAEbC,YAFa,EAGY;EACzB,MAAMC,gBAAgB,GAAGN,mBAAmB,CAAC,EAAD,CAA5C;EAEA,MAAMO,cAAc,GAAGN,oBAAoB,EAA3C;EACA,MAAMO,QAAQ,GAAGV,OAAO,CAACI,YAAY,EAAb,CAAxB;EAEAO,wBAAwB;EAExB,MAAMC,KAAK,GAAGX,WAAW,CACvBJ,iBAAiB,CAACS,OAAD,CADM,EAEvBC,YAFuB,EAGvBC,gBAAgB,CAACT,eAAe,CAACU,cAAD,CAAhB,EAAkCC,QAAlC,CAHO,CAAzB;EAMAE,KAAK,CAACC,SAAN,CAAgB,MAAM;IACpB,MAAMC,MAAM,GAAGF,KAAK,CAACG,QAAN,EAAf;;IACAC,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BC,IAAI,CAACC,SAAL,CAAeL,MAAf,CAA/B;EACD,CAHD;EAKAL,cAAc,CAACW,GAAf,CAAmBtB,QAAnB;EACA,OAAOc,KAAP;;EAEA,SAASD,wBAAT,GAAoC;IAClC,MAAMG,MAAM,GAAGE,YAAY,CAACK,OAAb,CAAqB,QAArB,CAAf;;IAEA,IAAI,CAACP,MAAL,EAAa,OAAOP,YAAP;IACb,OAAOW,IAAI,CAACI,KAAL,CAAWR,MAAX,CAAP;EACD;AACF"},"metadata":{},"sourceType":"module"}