{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nexports['default'] = persistState;\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _createSlicerJs = require('./createSlicer.js');\n\nvar _createSlicerJs2 = _interopRequireDefault(_createSlicerJs);\n\nvar _utilMergeStateJs = require('./util/mergeState.js');\n\nvar _utilMergeStateJs2 = _interopRequireDefault(_utilMergeStateJs);\n/**\n * @description\n * persistState is a Store Enhancer that syncs (a subset of) store state to localStorage.\n *\n * @param {String|String[]} [paths] Specify keys to sync with localStorage, if left undefined the whole store is persisted\n * @param {Object} [config] Optional config object\n * @param {String} [config.key=\"redux\"] String used as localStorage key\n * @param {Function} [config.slicer] (paths) => (state) => subset. A function that returns a subset\n * of store state that should be persisted to localStorage\n * @param {Function} [config.serialize=JSON.stringify] (subset) => serializedData. Called just before persisting to\n * localStorage. Should transform the subset into a format that can be stored.\n * @param {Function} [config.deserialize=JSON.parse] (persistedData) => subset. Called directly after retrieving\n * persistedState from localStorage. Should transform the data into the format expected by your application\n *\n * @return {Function} An enhanced store\n */\n\n\nfunction persistState(paths, config) {\n  var cfg = _extends({\n    key: 'redux',\n    merge: _utilMergeStateJs2['default'],\n    slicer: _createSlicerJs2['default'],\n    serialize: JSON.stringify,\n    deserialize: JSON.parse\n  }, config);\n\n  var key = cfg.key;\n  var merge = cfg.merge;\n  var slicer = cfg.slicer;\n  var serialize = cfg.serialize;\n  var deserialize = cfg.deserialize;\n  return function (next) {\n    return function (reducer, initialState, enhancer) {\n      if (typeof initialState === 'function' && typeof enhancer === 'undefined') {\n        enhancer = initialState;\n        initialState = undefined;\n      }\n\n      var persistedState = undefined;\n      var finalInitialState = undefined;\n\n      try {\n        persistedState = deserialize(localStorage.getItem(key));\n        finalInitialState = merge(initialState, persistedState);\n      } catch (e) {\n        console.warn('Failed to retrieve initialize state from localStorage:', e);\n      }\n\n      var store = next(reducer, finalInitialState, enhancer);\n      var slicerFn = slicer(paths);\n      store.subscribe(function () {\n        var state = store.getState();\n        var subset = slicerFn(state);\n\n        try {\n          localStorage.setItem(key, serialize(subset));\n        } catch (e) {\n          console.warn('Unable to persist state to localStorage:', e);\n        }\n      });\n      return store;\n    };\n  };\n}\n\nmodule.exports = exports['default'];","map":{"version":3,"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","persistState","_interopRequireDefault","obj","__esModule","_createSlicerJs","require","_createSlicerJs2","_utilMergeStateJs","_utilMergeStateJs2","paths","config","cfg","merge","slicer","serialize","JSON","stringify","deserialize","parse","next","reducer","initialState","enhancer","undefined","persistedState","finalInitialState","localStorage","getItem","e","console","warn","store","slicerFn","subscribe","state","getState","subset","setItem","module"],"sources":["/home/ansio-user/vijaypro/web/node_modules/redux-localstorage/lib/persistState.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports['default'] = persistState;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _createSlicerJs = require('./createSlicer.js');\n\nvar _createSlicerJs2 = _interopRequireDefault(_createSlicerJs);\n\nvar _utilMergeStateJs = require('./util/mergeState.js');\n\nvar _utilMergeStateJs2 = _interopRequireDefault(_utilMergeStateJs);\n\n/**\n * @description\n * persistState is a Store Enhancer that syncs (a subset of) store state to localStorage.\n *\n * @param {String|String[]} [paths] Specify keys to sync with localStorage, if left undefined the whole store is persisted\n * @param {Object} [config] Optional config object\n * @param {String} [config.key=\"redux\"] String used as localStorage key\n * @param {Function} [config.slicer] (paths) => (state) => subset. A function that returns a subset\n * of store state that should be persisted to localStorage\n * @param {Function} [config.serialize=JSON.stringify] (subset) => serializedData. Called just before persisting to\n * localStorage. Should transform the subset into a format that can be stored.\n * @param {Function} [config.deserialize=JSON.parse] (persistedData) => subset. Called directly after retrieving\n * persistedState from localStorage. Should transform the data into the format expected by your application\n *\n * @return {Function} An enhanced store\n */\n\nfunction persistState(paths, config) {\n  var cfg = _extends({\n    key: 'redux',\n    merge: _utilMergeStateJs2['default'],\n    slicer: _createSlicerJs2['default'],\n    serialize: JSON.stringify,\n    deserialize: JSON.parse\n  }, config);\n\n  var key = cfg.key;\n  var merge = cfg.merge;\n  var slicer = cfg.slicer;\n  var serialize = cfg.serialize;\n  var deserialize = cfg.deserialize;\n\n  return function (next) {\n    return function (reducer, initialState, enhancer) {\n      if (typeof initialState === 'function' && typeof enhancer === 'undefined') {\n        enhancer = initialState;\n        initialState = undefined;\n      }\n\n      var persistedState = undefined;\n      var finalInitialState = undefined;\n\n      try {\n        persistedState = deserialize(localStorage.getItem(key));\n        finalInitialState = merge(initialState, persistedState);\n      } catch (e) {\n        console.warn('Failed to retrieve initialize state from localStorage:', e);\n      }\n\n      var store = next(reducer, finalInitialState, enhancer);\n      var slicerFn = slicer(paths);\n\n      store.subscribe(function () {\n        var state = store.getState();\n        var subset = slicerFn(state);\n\n        try {\n          localStorage.setItem(key, serialize(subset));\n        } catch (e) {\n          console.warn('Unable to persist state to localStorage:', e);\n        }\n      });\n\n      return store;\n    };\n  };\n}\n\nmodule.exports = exports['default'];"],"mappings":"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"},"metadata":{},"sourceType":"script"}